//--------------------------------------------------------------------------------------------------
//= calc.hsp
//--------------------------------------------------------------------------------------------------
//	キー入力の監視や計算処理
//--------------------------------------------------------------------------------------------------

	timer_start timer_cnt(), "計算"

	//----------------------------------------------------------------------------------------------
	//= キー入力監視(GetKeyInputモジュール)
	//----------------------------------------------------------------------------------------------
		CheckKeyInput

	//----------------------------------------------------------------------------------------------
	//= デバッグフラグのトグル
	//----------------------------------------------------------------------------------------------
		if( GetKeyInput(KB_F1) == 1 ){ DEBUG_FLAG ^= 1 }

	//----------------------------------------------------------------------------------------------
	//= カーソルを当てているマスを取得
	//----------------------------------------------------------------------------------------------
		mx = MousePosX()
		my = MousePosY()
		if(mx >= 0)&(mx <= WINDOW_SIZE_W-1-MENU_SIZE_W)&(my >= 0)&(my <= WINDOW_SIZE_H-1){
			CursorPosX = MousePosX()/TILE_SIZE_WH
			CursorPosY = MousePosY()/TILE_SIZE_WH
		} else {
			//カーソルがマップ内に無い場合は-1
			CursorPosX = -1
			CursorPosY = -1
		}

	//----------------------------------------------------------------------------------------------
	//= マップの処理
	//----------------------------------------------------------------------------------------------
		#include "map.hsp"

	//----------------------------------------------------------------------------------------------
	//= 敵の処理
	//----------------------------------------------------------------------------------------------
		#include "enemy.hsp"

	//----------------------------------------------------------------------------------------------
	//= キャラクターの処理
	//----------------------------------------------------------------------------------------------
		#include "character.hsp"

	//----------------------------------------------------------------------------------------------
	//= ボタンの処理
	//----------------------------------------------------------------------------------------------
		mgButtonCalc

	timer_end timer_cnt()