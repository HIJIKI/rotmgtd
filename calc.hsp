//--------------------------------------------------------------------------------------------------
//= calc.hsp
//--------------------------------------------------------------------------------------------------

	timer_start timer_cnt(), "計算"

	//----------------------------------------------------------------------------------------------
	//= キー入力監視(GetKeyInputモジュール)
	//----------------------------------------------------------------------------------------------
		CheckKeyInput

	//----------------------------------------------------------------------------------------------
	//= カーソルを当てているマスを取得
	//----------------------------------------------------------------------------------------------
		mx = MousePosX()
		my = MousePosY()
		if(mx >= 0)&(mx <= WINDOW_SIZE_W-1-MENU_SIZE_W)&(my >= 0)&(my <= WINDOW_SIZE_H-1){
			CursorPosX = MousePosX()/TILE_SIZE_WH
			CursorPosY = MousePosY()/TILE_SIZE_WH
		} else {
			//カーソルがマップ内に無い場合は-1
			CursorPosX = -1
			CursorPosY = -1
		}

	//----------------------------------------------------------------------------------------------
	//= マップエディット(上層チップ)
	//----------------------------------------------------------------------------------------------
		if(CursorPosX != -1)&(CursorPosY != -1) {
			//左クリック
			if(GetKeyInput(MO_LEFT) != 0){
				if(MapDataLower(CursorPosX, CursorPosY) == 0){
					if(MapDataUpper(CursorPosX, CursorPosY) != 1){
						MapDataUpper(CursorPosX, CursorPosY) = 1
					}
				}
			}
			//右クリック
			if(GetKeyInput(MO_RIGHT) != 0){
				if(MapDataLower(CursorPosX, CursorPosY) == 0){
					if(MapDataUpper(CursorPosX, CursorPosY) != 0){
						MapDataUpper(CursorPosX, CursorPosY) = 0
					}
				}
			}
		}

	//----------------------------------------------------------------------------------------------
	//= 各座標のゴールまでの座標を取得(一時的)
	//----------------------------------------------------------------------------------------------
		GoalDisCalc

	//----------------------------------------------------------------------------------------------
	//= 敵の処理
	//----------------------------------------------------------------------------------------------
		#include "enemy.hsp"

	timer_end timer_cnt()